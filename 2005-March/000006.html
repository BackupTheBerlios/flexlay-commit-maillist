<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Flexlay-commit] r495 - trunk/paint
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/flexlay-commit/2005-March/index.html" >
   <LINK REL="made" HREF="mailto:flexlay-commit%40lists.berlios.de?Subject=Re%3A%20%5BFlexlay-commit%5D%20r495%20-%20trunk/paint&In-Reply-To=%3C200503182258.j2IMwgpa028489%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000005.html">
   <LINK REL="Next"  HREF="000007.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Flexlay-commit] r495 - trunk/paint</H1>
    <B>Ingo Ruhnke at BerliOS</B> 
    <A HREF="mailto:flexlay-commit%40lists.berlios.de?Subject=Re%3A%20%5BFlexlay-commit%5D%20r495%20-%20trunk/paint&In-Reply-To=%3C200503182258.j2IMwgpa028489%40sheep.berlios.de%3E"
       TITLE="[Flexlay-commit] r495 - trunk/paint">grumbel at sheep.berlios.de
       </A><BR>
    <I>Fri Mar 18 23:58:42 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000005.html">[Flexlay-commit] r494 - trunk/supertux
</A></li>
        <LI>Next message: <A HREF="000007.html">[Flexlay-commit] r496 - trunk/lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6">[ date ]</a>
              <a href="thread.html#6">[ thread ]</a>
              <a href="subject.html#6">[ subject ]</a>
              <a href="author.html#6">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: grumbel
Date: 2005-03-18 23:58:41 +0100 (Fri, 18 Mar 2005)
New Revision: 495

Added:
   trunk/paint/example.scm.bz2
   trunk/paint/example11.scm.bz2
   trunk/paint/example12.scm.bz2
   trunk/paint/example13.scm.bz2
   trunk/paint/example14.scm.bz2
   trunk/paint/example15.scm.bz2
   trunk/paint/example16.scm.bz2
   trunk/paint/example17.scm.bz2
   trunk/paint/example18.scm.bz2
   trunk/paint/example19.scm.bz2
   trunk/paint/example2.scm.bz2
   trunk/paint/example20.scm.bz2
   trunk/paint/example21.scm.bz2
   trunk/paint/example22.scm.bz2
   trunk/paint/example23.scm.bz2
   trunk/paint/example24.scm.bz2
   trunk/paint/example25.scm.bz2
   trunk/paint/example26.scm.bz2
   trunk/paint/example27.scm.bz2
   trunk/paint/example28.scm.bz2
   trunk/paint/example29.scm.bz2
   trunk/paint/example3.scm.bz2
   trunk/paint/example30.scm.bz2
   trunk/paint/example31.scm.bz2
   trunk/paint/example32.scm.bz2
   trunk/paint/example33.scm.bz2
   trunk/paint/example4.scm.bz2
   trunk/paint/example5.scm.bz2
   trunk/paint/example6.scm.bz2
   trunk/paint/example7.scm.bz2
   trunk/paint/example8.scm.bz2
   trunk/paint/example9.scm.bz2
Modified:
   trunk/paint/paint.rb
Log:
- added a bunch of example images
- added toolbar

Added: trunk/paint/example.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example11.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example11.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example12.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example12.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example13.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example13.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example14.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example14.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example15.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example15.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example16.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example16.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example17.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example17.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example18.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example18.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example19.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example19.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example2.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example2.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example20.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example20.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example21.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example21.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example22.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example22.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example23.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example23.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example24.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example24.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example25.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example25.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example26.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example26.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example27.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example27.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example28.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example28.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example29.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example29.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example3.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example3.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example30.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example30.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example31.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example31.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example32.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example32.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example33.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example33.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example4.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example4.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example5.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example5.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example6.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example6.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example7.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example7.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example8.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example8.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/paint/example9.scm.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/paint/example9.scm.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: trunk/paint/paint.rb
===================================================================
--- trunk/paint/paint.rb	2005-03-15 14:06:47 UTC (rev 494)
+++ trunk/paint/paint.rb	2005-03-18 22:58:41 UTC (rev 495)
@@ -27,10 +27,12 @@
 flexlay = Flexlay.new()
 
 $screen_rect = CL_Rect.new(CL_Point.new(0, 0), CL_Size.new(800, 600))
+# $screen_rect = CL_Rect.new(CL_Point.new(0, 0), CL_Size.new(1152, 864))
 
 flexlay.init($screen_rect.get_width(), $screen_rect.get_height(), false)
 
 $sketch_stroke_tool  = SketchStrokeTool.new()
+$layer_move_tool     = LayerMoveTool.new()
 $zoom_tool           = ZoomTool.new()
 
 class PaintGUI
@@ -43,7 +45,8 @@
     @editor_map = EditorMapComponent.new($screen_rect, @gui.get_component())
     @workspace  = Workspace.new($screen_rect.get_width(), $screen_rect.get_height())
     @editor_map.set_workspace(@workspace)
-    @workspace.set_tool($sketch_stroke_tool.to_tool());
+    # @workspace.set_tool($sketch_stroke_tool.to_tool());
+    @workspace.set_tool($layer_move_tool.to_tool());
 
     @selector_window_main = Window.new(CL_Rect.new(CL_Point.new($screen_rect.get_width()-160, 5), 
                                                    CL_Size.new(128 + 6 + 10, 558)),
@@ -144,10 +147,10 @@
                })
 
     connect_v2(@editor_map.sig_on_key(&quot;g&quot;),  proc{ |x, y|
-                 $gui.workspace.get_gc_state.set_rotation($gui.workspace.get_gc_state.get_rotation() + 1)
+                 $gui.workspace.get_gc_state.set_rotation($gui.workspace.get_gc_state.get_rotation() - 10)
                })
     connect_v2(@editor_map.sig_on_key(&quot;c&quot;),  proc{ |x, y| 
-                 $gui.workspace.get_gc_state.set_rotation($gui.workspace.get_gc_state.get_rotation() - 1)
+                 $gui.workspace.get_gc_state.set_rotation($gui.workspace.get_gc_state.get_rotation() + 10)
                })
 
     @normal_mode = CL_Button.new(CL_Rect.new(CL_Point.new(5, 500), CL_Size.new(40, 25)), &quot;Norm&quot;, @selector_window)
@@ -172,6 +175,16 @@
               drawer.set_mode(SpriteStrokeDrawer::DM_SHADER)
             })
 
+    button_panel = ButtonPanel.new(0, 0, 33, 33*3, false, @gui.get_component)
+    button_panel.add_icon(&quot;../data/images/tools/stock-tool-pencil-22.png&quot;, proc{ 
+                            @workspace.set_tool($sketch_stroke_tool.to_tool())
+                          })
+    button_panel.add_icon(&quot;../data/images/tools/stock-tool-move-22.png&quot;, proc{ 
+                            @workspace.set_tool($layer_move_tool.to_tool())
+                          })
+    button_panel.add_icon(&quot;../data/images/tools/stock-tool-zoom-22.png&quot;, proc{ 
+                            @workspace.set_tool($zoom_tool.to_tool())
+                          })
   end
 
   def quit()
@@ -204,12 +217,13 @@
   
   def set_active_layer(i)
     if (i &gt;= 0 &amp;&amp; i &lt; layers.size) then
-      SketchLayer.set_current(layers[i])
+      BitmapLayer.set_current(layers[i])
     end
   end
 
   def add_layer()
-    layer = SketchLayer.new()
+    layer = BitmapLayer.new(640, 480)
+    layer.to_layer().set_pos(CL_Pointf.new(rand(100)-50, rand(100)-50))
     @layers.push(layer)
     @editormap.add_layer(layer.to_layer()) 
     puts &quot;Add layer: #{layer}&quot; 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000005.html">[Flexlay-commit] r494 - trunk/supertux
</A></li>
	<LI>Next message: <A HREF="000007.html">[Flexlay-commit] r496 - trunk/lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6">[ date ]</a>
              <a href="thread.html#6">[ thread ]</a>
              <a href="subject.html#6">[ subject ]</a>
              <a href="author.html#6">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/flexlay-commit">More information about the Flexlay-commit
mailing list</a><br>
</body></html>
